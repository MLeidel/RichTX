'use strict';class RichTX{constructor(target,ce,ta){this.target=target;this.ce=ce;this.ta=ta}displayAtTarget(){var TG=document.getElementById(this.target);TG.innerHTML=`
    <textarea id="${this.ta}" wrap="on" style="display:none;" spellcheck="false"></textarea>
    <div id="${this.ce}" contenteditable="true" spellcheck="false"></div>
    `;this.CEobj=JS.doq(`#${this.ce}`);this.TAobj=JS.doq(`#${this.ta}`)}switchView(){if(JS.gss(`#${this.ta}`,"display")=="none"){let txt=this.CEobj.innerHTML;txt=this.fmthtml(txt);this.CEobj.innerHTML=txt;JS.val(`#${this.ta}`,this.CEobj.innerHTML);JS.tod(`#${this.ta}`,"block");JS.tod(`#${this.ce}`,"block");JS.doq(`#${this.ta}`).focus()}else{this.CEobj.innerHTML=JS.val(`#${this.ta}`);JS.tod(`#${this.ce}`,"block");JS.tod(`#${this.ta}`,"block");this.CEobj.focus()}}fmthtml(t){t=t.replace(/<div/g,"\n<div");
t=t.replace(/<br>/g,"<br>\n");t=t.replace(/<\/div>/g,"\n</div>\n");t=t.replace(/<\/blockquote>/g,"</blockquote>\n");t=t.replace(/<blockquote/g,"\n<blockquote");t=t.replace(/<\/span>/g,"</span>\n");t=t.replace(/<span/g,"\n<span");t=t.replace(/<ul/g,"\n<ul");t=t.replace(/<ol/g,"\n<ol");t=t.replace(/<\/ul>/g,"\n</ul>\n");t=t.replace(/<\/ol>/g,"\n</ol>\n");t=t.replace(/<li/g,"\n\t<li");t=t.replace(/\n\n/g,"\n");return t}setText(t){this.CEobj.innerHTML=t}getText(){let txt=this.CEobj.innerHTML;txt=encodeURIComponent(txt);
return txt}}function RTXexec(com,data=null){let r=document.execCommand(com,false,data);if(r===false)alert("Canceled, or Command invalid or not supported!")}